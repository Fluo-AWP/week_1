<html>
<head>
	<title>
		Klotski
	</title>
	<style>
	#game-container {
		width: 300px;
		height: 400px;
		background-color: #999;
		margin-left: auto;
		margin-right: auto;
		margin-top: 20%;
	}

	.brick {
		position: absolute;
		background-color: #1f660d;
	}

	.large-square {
		width: 100px;
		height: 100px;
		background-color: #a91021;
	}

	.small-square {
		width: 50px;
		height: 50px;
	}

	.vertical-rectangle {
		width: 50px;
		height: 100px;
		background-color: #000066;
	}

	.horizontal-rectangle {
		width: 100px;
		height: 50px;
		background-color: #a0a90c;
	}
	</style>
</head>
<body>
	<div id="game-container">
		<div class="brick small-square"></div>
		<div class="brick large-square"></div>
		<div class="brick vertical-rectangle"></div>
		<div class="brick horizontal-rectangle"></div>
	</div>
<script type="text/javascript">
	var bricks = document.getElementsByClassName('brick'),
		currentBrick = null,

	readyBrick = function () {
		currentBrick = this;
	},

	moveCurrentBrick = function (e) {
		// Do nothing of no brick is selected
		if (!currentBrick) return; 
		// move up
		if (e.keyCode === 38) {
			var oldMargin = currentBrick.style.marginBottom;
			currentBrick.style.marginBottom = oldMargin.substr(0, oldMargin.length) + 20;
		}
			
		// move down
		if (e.keyCode === 40) {
			var oldMargin = currentBrick.style.marginTop;
			currentBrick.style.marginTop = oldMargin.substr(0, oldMargin.length) + 20;
		}
		// move right
		if (e.keyCode === 39)
			currentBrick.style.marginLeft += 20;
		// move left
		if (e.keyCode === 37)
			currentBrick.style.marginRight += 20;
		
	};

	for (var i = bricks.length - 1; i >= 0; i--) {
		var brick = bricks[i];
		brick.addEventListener('click', readyBrick);
	};

	document.addEventListener('keyup', moveCurrentBrick);
</script>
</body>
</html>